<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OmniTech Architecture Diagrams</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background-color: #f5f7fa;
        }

        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .header h1 {
            margin: 0 0 0.5rem 0;
            font-size: 2.5rem;
        }

        .header p {
            margin: 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .diagram-nav {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .diagram-nav h3 {
            margin-top: 0;
            color: #1e40af;
        }

        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .nav-buttons button {
            padding: 0.5rem 1rem;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s;
        }

        .nav-buttons button:hover {
            background: #2563eb;
        }

        .nav-buttons button.active {
            background: #1e40af;
        }

        .diagram-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: none;
        }

        .diagram-section.active {
            display: block;
        }

        .diagram-section h2 {
            margin-top: 0;
            color: #1e293b;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 0.5rem;
        }

        .description {
            background: #f1f5f9;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #3b82f6;
        }

        .chart-container {
            overflow: auto;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            background: #fefefe;
            display: flex;
            justify-content: center;
        }

        svg {
            max-width: 100%;
            height: auto;
        }

        .footer {
            text-align: center;
            padding: 2rem;
            color: #64748b;
            font-size: 0.9rem;
        }

        .footer a {
            color: #3b82f6;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>OmniTech Support System</h1>
        <p>Architecture Diagrams - Minimal to Full-Featured</p>
    </div>

    <div class="diagram-nav">
        <h3>Select a Diagram:</h3>
        <div class="nav-buttons" id="navButtons"></div>
    </div>

    <!-- Diagram 1: Minimal Architecture -->
    <div class="diagram-section" id="diagram-1">
        <h2>1. Minimal Version - System Architecture</h2>
        <div class="description">
            <strong>Simple, Educational Design</strong><br>
            The minimal version demonstrates core RAG and MCP concepts with a clean, straightforward architecture.
            Files: gradio_app_minimal.py, rag_agent_minimal.py, mcp_server_minimal.py, minimal_data.json
        </div>
        <div class="chart-container">
            <svg width="800" height="500" viewBox="0 0 800 500">
                <!-- User Interface Layer -->
                <rect x="300" y="20" width="200" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="400" y="45" text-anchor="middle" font-size="14" font-weight="bold">Gradio Web UI</text>
                <text x="400" y="65" text-anchor="middle" font-size="11">gradio_app_minimal.py</text>

                <!-- Agent Layer -->
                <rect x="150" y="150" width="150" height="60" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="225" y="175" text-anchor="middle" font-size="14" font-weight="bold">RAG Agent</text>
                <text x="225" y="195" text-anchor="middle" font-size="11">rag_agent_minimal.py</text>

                <rect x="350" y="150" width="150" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="425" y="175" text-anchor="middle" font-size="14" font-weight="bold">ChromaDB</text>
                <text x="425" y="195" text-anchor="middle" font-size="11">Vector Database</text>

                <rect x="550" y="150" width="150" height="60" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
                <text x="625" y="175" text-anchor="middle" font-size="14" font-weight="bold">HuggingFace LLM</text>
                <text x="625" y="195" text-anchor="middle" font-size="11">Llama 3.1 8B</text>

                <!-- MCP Layer -->
                <rect x="300" y="280" width="200" height="60" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                <text x="400" y="305" text-anchor="middle" font-size="14" font-weight="bold">MCP Server</text>
                <text x="400" y="325" text-anchor="middle" font-size="11">mcp_server_minimal.py</text>

                <!-- Data Layer -->
                <rect x="300" y="410" width="200" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="400" y="435" text-anchor="middle" font-size="14" font-weight="bold">minimal_data.json</text>
                <text x="400" y="455" text-anchor="middle" font-size="11">Emails & Orders</text>

                <!-- Arrows -->
                <line x1="400" y1="80" x2="225" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="400" y1="80" x2="425" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="400" y1="80" x2="625" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="225" y1="210" x2="400" y2="280" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <line x1="400" y1="340" x2="400" y2="410" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

                <!-- Arrow labels -->
                <text x="280" y="120" font-size="10" fill="#666">User Query</text>
                <text x="420" y="250" font-size="10" fill="#666">Tool Calls</text>
                <text x="420" y="380" font-size="10" fill="#666">Read Data</text>

                <!-- Arrow marker definition -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 2: Full Architecture -->
    <div class="diagram-section" id="diagram-2">
        <h2>2. Full Version - Production Architecture</h2>
        <div class="description">
            <strong>Production-Ready System</strong><br>
            The full version adds 5-tab UI, classification workflows, metrics tracking, and a complete database layer.
        </div>
        <div class="chart-container">
            <svg width="900" height="600" viewBox="0 0 900 600">
                <!-- UI Layer with 5 Tabs -->
                <rect x="50" y="20" width="120" height="40" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="110" y="45" text-anchor="middle" font-size="12" font-weight="bold">Chat Tab</text>

                <rect x="190" y="20" width="120" height="40" fill="#ffcc80" stroke="#e65100" stroke-width="2" rx="5"/>
                <text x="250" y="45" text-anchor="middle" font-size="12" font-weight="bold">Dashboard</text>

                <rect x="330" y="20" width="120" height="40" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="390" y="45" text-anchor="middle" font-size="12" font-weight="bold">MCP Monitor</text>

                <rect x="470" y="20" width="120" height="40" fill="#90caf9" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="530" y="45" text-anchor="middle" font-size="12" font-weight="bold">Knowledge</text>

                <rect x="610" y="20" width="120" height="40" fill="#ffab91" stroke="#d84315" stroke-width="2" rx="5"/>
                <text x="670" y="45" text-anchor="middle" font-size="12" font-weight="bold">Tickets</text>

                <!-- Agent Layer -->
                <rect x="300" y="120" width="180" height="60" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="390" y="145" text-anchor="middle" font-size="14" font-weight="bold">RAG Agent (Enhanced)</text>
                <text x="390" y="165" text-anchor="middle" font-size="11">+ Classification + Metrics</text>

                <rect x="100" y="120" width="150" height="60" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="175" y="145" text-anchor="middle" font-size="14" font-weight="bold">4-Step Classifier</text>
                <text x="175" y="165" text-anchor="middle" font-size="11">Query Routing</text>

                <rect x="530" y="120" width="150" height="60" fill="#b2dfdb" stroke="#00796b" stroke-width="2" rx="5"/>
                <text x="605" y="145" text-anchor="middle" font-size="14" font-weight="bold">Metrics Tracker</text>
                <text x="605" y="165" text-anchor="middle" font-size="11">Performance Data</text>

                <!-- MCP Layer -->
                <rect x="300" y="250" width="200" height="60" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                <text x="400" y="275" text-anchor="middle" font-size="14" font-weight="bold">MCP Server</text>
                <text x="400" y="295" text-anchor="middle" font-size="11">10+ Tools Available</text>

                <!-- Data Layer -->
                <rect x="150" y="380" width="150" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="225" y="405" text-anchor="middle" font-size="14" font-weight="bold">SQLite Database</text>
                <text x="225" y="425" text-anchor="middle" font-size="11">customers.db</text>

                <rect x="350" y="380" width="150" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="425" y="405" text-anchor="middle" font-size="14" font-weight="bold">ChromaDB</text>
                <text x="425" y="425" text-anchor="middle" font-size="11">Categorized PDFs</text>

                <rect x="550" y="380" width="150" height="60" fill="#e0f2f1" stroke="#00796b" stroke-width="2" rx="5"/>
                <text x="625" y="405" text-anchor="middle" font-size="14" font-weight="bold">seed_data.json</text>
                <text x="625" y="425" text-anchor="middle" font-size="11">Initial Data</text>

                <!-- Arrows -->
                <line x1="110" y1="60" x2="390" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrowhead2)"/>
                <line x1="390" y1="120" x2="175" y2="120" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
                <line x1="390" y1="120" x2="605" y2="120" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
                <line x1="390" y1="180" x2="400" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead2)"/>
                <line x1="400" y1="310" x2="225" y2="380" stroke="#666" stroke-width="2" marker-end="url(#arrowhead2)"/>
                <line x1="400" y1="310" x2="425" y2="380" stroke="#666" stroke-width="2" marker-end="url(#arrowhead2)"/>

                <text x="420" y="230" font-size="10" fill="#666">Tool Calls</text>

                <defs>
                    <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 3: RAG Workflow -->
    <div class="diagram-section" id="diagram-3">
        <h2>3. RAG (Retrieval Augmented Generation) Workflow</h2>
        <div class="description">
            <strong>How RAG Works</strong><br>
            Complete flow from document ingestion through semantic search to LLM generation.
        </div>
        <div class="chart-container">
            <svg width="900" height="400" viewBox="0 0 900 400">
                <!-- Document Processing Path -->
                <rect x="50" y="50" width="120" height="50" fill="#e0f2f1" stroke="#00796b" stroke-width="2" rx="5"/>
                <text x="110" y="70" text-anchor="middle" font-size="12" font-weight="bold">PDF Documents</text>
                <text x="110" y="88" text-anchor="middle" font-size="10">4 Files</text>

                <rect x="220" y="50" width="120" height="50" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="280" y="70" text-anchor="middle" font-size="12" font-weight="bold">Extract Text</text>
                <text x="280" y="88" text-anchor="middle" font-size="10">pypdf</text>

                <rect x="390" y="50" width="120" height="50" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="450" y="70" text-anchor="middle" font-size="12" font-weight="bold">Generate</text>
                <text x="450" y="88" text-anchor="middle" font-size="10">Embeddings</text>

                <rect x="560" y="50" width="120" height="50" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="620" y="70" text-anchor="middle" font-size="12" font-weight="bold">Vector Database</text>
                <text x="620" y="88" text-anchor="middle" font-size="10">ChromaDB</text>

                <!-- Query Processing Path -->
                <rect x="50" y="200" width="120" height="50" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="110" y="220" text-anchor="middle" font-size="12" font-weight="bold">User Query</text>
                <text x="110" y="238" text-anchor="middle" font-size="10">Input</text>

                <rect x="220" y="200" width="120" height="50" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="280" y="220" text-anchor="middle" font-size="12" font-weight="bold">Embed Query</text>
                <text x="280" y="238" text-anchor="middle" font-size="10">Same Model</text>

                <rect x="390" y="200" width="120" height="50" fill="#ffcc80" stroke="#e65100" stroke-width="2" rx="5"/>
                <text x="450" y="220" text-anchor="middle" font-size="12" font-weight="bold">Semantic Search</text>
                <text x="450" y="238" text-anchor="middle" font-size="10">Similarity</text>

                <rect x="560" y="200" width="120" height="50" fill="#90caf9" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="620" y="220" text-anchor="middle" font-size="12" font-weight="bold">Top K Results</text>
                <text x="620" y="238" text-anchor="middle" font-size="10">k=2 or 3</text>

                <!-- LLM Generation -->
                <rect x="730" y="125" width="120" height="50" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
                <text x="790" y="145" text-anchor="middle" font-size="12" font-weight="bold">LLM Generate</text>
                <text x="790" y="163" text-anchor="middle" font-size="10">HuggingFace</text>

                <rect x="730" y="250" width="120" height="50" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="790" y="270" text-anchor="middle" font-size="12" font-weight="bold">Response</text>
                <text x="790" y="288" text-anchor="middle" font-size="10">JSON Format</text>

                <!-- Arrows -->
                <line x1="170" y1="75" x2="220" y2="75" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>
                <line x1="340" y1="75" x2="390" y2="75" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>
                <line x1="510" y1="75" x2="560" y2="75" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>

                <line x1="170" y1="225" x2="220" y2="225" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>
                <line x1="340" y1="225" x2="390" y2="225" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>
                <line x1="510" y1="225" x2="560" y2="225" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>
                <line x1="620" y1="100" x2="450" y2="200" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
                <line x1="680" y1="225" x2="730" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>
                <line x1="790" y1="175" x2="790" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead3)"/>

                <text x="50" y="30" font-size="13" fill="#666" font-weight="bold">Document Processing (Startup)</text>
                <text x="50" y="180" font-size="13" fill="#666" font-weight="bold">Query Processing (Runtime)</text>

                <defs>
                    <marker id="arrowhead3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 4: MCP Workflow -->
    <div class="diagram-section" id="diagram-4">
        <h2>4. MCP (Model Context Protocol) Workflow</h2>
        <div class="description">
            <strong>Tool-Based Communication</strong><br>
            How the agent discovers and calls MCP tools through a standardized protocol.
        </div>
        <div class="chart-container">
            <svg width="700" height="500" viewBox="0 0 700 500">
                <!-- Timeline -->
                <line x1="150" y1="50" x2="150" y2="450" stroke="#ccc" stroke-width="2"/>
                <line x1="350" y1="50" x2="350" y2="450" stroke="#ccc" stroke-width="2"/>
                <line x1="550" y1="50" x2="550" y2="450" stroke="#ccc" stroke-width="2"/>

                <!-- Headers -->
                <rect x="90" y="20" width="120" height="30" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="150" y="40" text-anchor="middle" font-size="12" font-weight="bold">RAG Agent</text>

                <rect x="290" y="20" width="120" height="30" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                <text x="350" y="40" text-anchor="middle" font-size="12" font-weight="bold">MCP Server</text>

                <rect x="490" y="20" width="120" height="30" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="550" y="40" text-anchor="middle" font-size="12" font-weight="bold">Database</text>

                <!-- Step 1: Initialization -->
                <text x="20" y="90" font-size="11" fill="#666" font-weight="bold">1. Init</text>
                <line x1="150" y1="100" x2="350" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)"/>
                <text x="230" y="95" text-anchor="middle" font-size="10">Connect</text>

                <line x1="350" y1="120" x2="150" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)" stroke-dasharray="5,5"/>
                <text x="230" y="115" text-anchor="middle" font-size="10">Connected</text>

                <!-- Step 2: List Tools -->
                <line x1="150" y1="160" x2="350" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)"/>
                <text x="230" y="155" text-anchor="middle" font-size="10">list_tools()</text>

                <line x1="350" y1="180" x2="150" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)" stroke-dasharray="5,5"/>
                <text x="230" y="175" text-anchor="middle" font-size="10">Available Tools</text>

                <!-- Step 3: Query Processing -->
                <text x="20" y="230" font-size="11" fill="#666" font-weight="bold">2. Process</text>
                <rect x="120" y="240" width="60" height="40" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="3"/>
                <text x="150" y="255" text-anchor="middle" font-size="9">Analyze</text>
                <text x="150" y="267" text-anchor="middle" font-size="9">Query</text>

                <!-- Step 4: Tool Execution -->
                <text x="20" y="310" font-size="11" fill="#666" font-weight="bold">3. Execute</text>
                <line x1="150" y1="320" x2="350" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)"/>
                <text x="230" y="315" text-anchor="middle" font-size="10">call_tool(params)</text>

                <line x1="350" y1="340" x2="550" y2="340" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)"/>
                <text x="430" y="335" text-anchor="middle" font-size="10">Query Data</text>

                <line x1="550" y1="360" x2="350" y2="360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)" stroke-dasharray="5,5"/>
                <text x="430" y="355" text-anchor="middle" font-size="10">Return Data</text>

                <line x1="350" y1="380" x2="150" y2="380" stroke="#666" stroke-width="2" marker-end="url(#arrowhead4)" stroke-dasharray="5,5"/>
                <text x="230" y="375" text-anchor="middle" font-size="10">Tool Result</text>

                <!-- Step 5: Response -->
                <text x="20" y="430" font-size="11" fill="#666" font-weight="bold">4. Respond</text>
                <rect x="120" y="400" width="60" height="40" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="3"/>
                <text x="150" y="415" text-anchor="middle" font-size="9">Generate</text>
                <text x="150" y="427" text-anchor="middle" font-size="9">Response</text>

                <defs>
                    <marker id="arrowhead4" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 5: Classification -->
    <div class="diagram-section" id="diagram-5">
        <h2>5. Classification Workflow (Full Version Only)</h2>
        <div class="description">
            <strong>4-Step Intelligent Query Routing</strong><br>
            Categories: account_security, device_troubleshooting, shipping_inquiry, returns_refunds, general_support
        </div>
        <div class="chart-container">
            <svg width="800" height="500" viewBox="0 0 800 500">
                <!-- Step 1 -->
                <rect x="300" y="20" width="200" height="60" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="400" y="45" text-anchor="middle" font-size="14" font-weight="bold">User Query</text>
                <text x="400" y="65" text-anchor="middle" font-size="11">Input from User</text>

                <rect x="250" y="120" width="300" height="50" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="400" y="150" text-anchor="middle" font-size="14" font-weight="bold">Step 1: Classify Query â†’ Select Category</text>

                <!-- Step 2 -->
                <rect x="250" y="210" width="300" height="50" fill="#ffcc80" stroke="#e65100" stroke-width="2" rx="5"/>
                <text x="400" y="240" text-anchor="middle" font-size="14" font-weight="bold">Step 2: Get Template for Category</text>

                <!-- Step 3 -->
                <rect x="250" y="300" width="300" height="50" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="400" y="330" text-anchor="middle" font-size="14" font-weight="bold">Step 3: Search Knowledge Base (Filtered)</text>

                <!-- Step 4 -->
                <rect x="250" y="390" width="300" height="50" fill="#90caf9" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="400" y="420" text-anchor="middle" font-size="14" font-weight="bold">Step 4: Execute LLM with Template</text>

                <!-- Result -->
                <rect x="300" y="470" width="200" height="30" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
                <text x="400" y="490" text-anchor="middle" font-size="12" font-weight="bold">Structured Response</text>

                <!-- Arrows -->
                <line x1="400" y1="80" x2="400" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrowhead5)"/>
                <line x1="400" y1="170" x2="400" y2="210" stroke="#666" stroke-width="2" marker-end="url(#arrowhead5)"/>
                <line x1="400" y1="260" x2="400" y2="300" stroke="#666" stroke-width="2" marker-end="url(#arrowhead5)"/>
                <line x1="400" y1="350" x2="400" y2="390" stroke="#666" stroke-width="2" marker-end="url(#arrowhead5)"/>
                <line x1="400" y1="440" x2="400" y2="470" stroke="#666" stroke-width="2" marker-end="url(#arrowhead5)"/>

                <!-- Side notes -->
                <text x="620" y="145" font-size="11" fill="#666">Keyword matching</text>
                <text x="620" y="235" font-size="11" fill="#666">Load optimized prompt</text>
                <text x="620" y="325" font-size="11" fill="#666">Top 3 relevant docs</text>
                <text x="620" y="415" font-size="11" fill="#666">Generate with context</text>

                <defs>
                    <marker id="arrowhead5" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 6: Data Flow -->
    <div class="diagram-section" id="diagram-6">
        <h2>6. Complete Data Flow - Query to Response</h2>
        <div class="description">
            <strong>End-to-End Processing</strong><br>
            Complete query path from user input through routing, processing, and final response.
        </div>
        <div class="chart-container">
            <svg width="900" height="600" viewBox="0 0 900 600">
                <!-- User Input -->
                <rect x="375" y="20" width="150" height="50" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="450" y="40" text-anchor="middle" font-size="14" font-weight="bold">User Query</text>
                <text x="450" y="58" text-anchor="middle" font-size="11">Gradio UI</text>

                <!-- Router -->
                <path d="M 425 120 L 475 120 L 500 150 L 475 180 L 425 180 L 400 150 Z" fill="#ffcc80" stroke="#e65100" stroke-width="2"/>
                <text x="450" y="155" text-anchor="middle" font-size="12" font-weight="bold">Route Query</text>

                <!-- Three Paths -->
                <rect x="100" y="250" width="150" height="50" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="175" y="270" text-anchor="middle" font-size="12" font-weight="bold">RAG Path</text>
                <text x="175" y="288" text-anchor="middle" font-size="10">Vector Search</text>

                <rect x="375" y="250" width="150" height="50" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                <text x="450" y="270" text-anchor="middle" font-size="12" font-weight="bold">MCP Path</text>
                <text x="450" y="288" text-anchor="middle" font-size="10">Tool Call</text>

                <rect x="650" y="250" width="150" height="50" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="725" y="270" text-anchor="middle" font-size="12" font-weight="bold">Combined</text>
                <text x="725" y="288" text-anchor="middle" font-size="10">Both Paths</text>

                <!-- LLM Generation -->
                <rect x="375" y="370" width="150" height="50" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
                <text x="450" y="390" text-anchor="middle" font-size="14" font-weight="bold">LLM Generation</text>
                <text x="450" y="408" text-anchor="middle" font-size="11">HuggingFace</text>

                <!-- Action Check -->
                <path d="M 425 480 L 475 480 L 500 510 L 475 540 L 425 540 L 400 510 Z" fill="#ffcc80" stroke="#e65100" stroke-width="2"/>
                <text x="450" y="515" text-anchor="middle" font-size="11" font-weight="bold">Action</text>

                <!-- Final Response -->
                <rect x="375" y="560" width="150" height="30" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="450" y="580" text-anchor="middle" font-size="12" font-weight="bold">Display to User</text>

                <!-- Arrows -->
                <line x1="450" y1="70" x2="450" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <line x1="425" y1="150" x2="200" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <text x="280" y="180" font-size="10" fill="#666">Knowledge</text>
                <line x1="450" y1="180" x2="450" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <text x="465" y="215" font-size="10" fill="#666">Lookup</text>
                <line x1="475" y1="150" x2="700" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <text x="620" y="180" font-size="10" fill="#666">Complex</text>

                <line x1="175" y1="300" x2="450" y2="370" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <line x1="450" y1="300" x2="450" y2="370" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <line x1="725" y1="300" x2="450" y2="370" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>

                <line x1="450" y1="420" x2="450" y2="480" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>
                <line x1="450" y1="540" x2="450" y2="560" stroke="#666" stroke-width="2" marker-end="url(#arrowhead6)"/>

                <!-- Side boxes for actions -->
                <rect x="550" y="490" width="100" height="30" fill="#ffab91" stroke="#d84315" stroke-width="1" rx="3"/>
                <text x="600" y="510" text-anchor="middle" font-size="10">Create Ticket</text>
                <line x1="500" y1="510" x2="550" y2="505" stroke="#666" stroke-width="1.5" stroke-dasharray="3,3"/>

                <defs>
                    <marker id="arrowhead6" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 7: Deployment -->
    <div class="diagram-section" id="diagram-7">
        <h2>7. Deployment Architecture Options</h2>
        <div class="description">
            <strong>From Local Development to Cloud</strong><br>
            Multiple deployment targets: Local, Hugging Face Spaces, Google Cloud Run, AWS/Azure
        </div>
        <div class="chart-container">
            <svg width="800" height="500" viewBox="0 0 800 500">
                <!-- Local Dev -->
                <rect x="50" y="50" width="180" height="60" fill="#c5e1a5" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="140" y="75" text-anchor="middle" font-size="14" font-weight="bold">Local Development</text>
                <text x="140" y="95" text-anchor="middle" font-size="11">localhost:7860</text>

                <!-- Cloud Options -->
                <rect x="50" y="200" width="180" height="60" fill="#90caf9" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="140" y="225" text-anchor="middle" font-size="14" font-weight="bold">Hugging Face Spaces</text>
                <text x="140" y="245" text-anchor="middle" font-size="11">Free Tier</text>

                <rect x="50" y="290" width="180" height="60" fill="#ffcc80" stroke="#e65100" stroke-width="2" rx="5"/>
                <text x="140" y="315" text-anchor="middle" font-size="14" font-weight="bold">Google Cloud Run</text>
                <text x="140" y="335" text-anchor="middle" font-size="11">Serverless</text>

                <rect x="50" y="380" width="180" height="60" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="140" y="405" text-anchor="middle" font-size="14" font-weight="bold">AWS / Azure</text>
                <text x="140" y="425" text-anchor="middle" font-size="11">Full Control</text>

                <!-- App Components -->
                <rect x="350" y="80" width="140" height="50" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="420" y="100" text-anchor="middle" font-size="13" font-weight="bold">Gradio App</text>
                <text x="420" y="118" text-anchor="middle" font-size="10">gradio_app.py</text>

                <rect x="350" y="160" width="140" height="50" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                <text x="420" y="180" text-anchor="middle" font-size="13" font-weight="bold">RAG Agent</text>
                <text x="420" y="198" text-anchor="middle" font-size="10">rag_agent.py</text>

                <rect x="350" y="240" width="140" height="50" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                <text x="420" y="260" text-anchor="middle" font-size="13" font-weight="bold">MCP Server</text>
                <text x="420" y="278" text-anchor="middle" font-size="10">mcp_server.py</text>

                <rect x="350" y="320" width="140" height="50" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
                <text x="420" y="340" text-anchor="middle" font-size="13" font-weight="bold">Database</text>
                <text x="420" y="358" text-anchor="middle" font-size="10">SQLite / JSON</text>

                <!-- External Service -->
                <rect x="600" y="160" width="150" height="50" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
                <text x="675" y="180" text-anchor="middle" font-size="13" font-weight="bold">HF Inference API</text>
                <text x="675" y="198" text-anchor="middle" font-size="10">Llama 3.1 8B</text>

                <!-- Arrows -->
                <line x1="230" y1="80" x2="350" y2="105" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)" stroke-dasharray="5,5"/>
                <line x1="230" y1="230" x2="350" y2="105" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)"/>
                <line x1="230" y1="320" x2="350" y2="105" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)"/>
                <line x1="230" y1="410" x2="350" y2="105" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)"/>

                <line x1="420" y1="130" x2="420" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)"/>
                <line x1="420" y1="210" x2="420" y2="240" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)"/>
                <line x1="420" y1="290" x2="420" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)"/>

                <line x1="490" y1="185" x2="600" y2="185" stroke="#666" stroke-width="2" marker-end="url(#arrowhead7)" stroke-dasharray="5,5"/>
                <text x="530" y="180" text-anchor="middle" font-size="9" fill="#666">API Calls</text>

                <text x="280" y="100" font-size="10" fill="#666">Deploy</text>

                <defs>
                    <marker id="arrowhead7" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <!-- Diagram 8: Comparison -->
    <div class="diagram-section" id="diagram-8">
        <h2>8. Feature Evolution: Minimal to Full</h2>
        <div class="description">
            <strong>Growth from 450 to 900 Lines of Code</strong><br>
            Visual comparison of features added from minimal to full version.
        </div>
        <div class="chart-container">
            <svg width="900" height="500" viewBox="0 0 900 500">
                <!-- Minimal Version -->
                <rect x="50" y="100" width="200" height="80" fill="#c5e1a5" stroke="#558b2f" stroke-width="3" rx="8"/>
                <text x="150" y="130" text-anchor="middle" font-size="18" font-weight="bold">MINIMAL VERSION</text>
                <text x="150" y="155" text-anchor="middle" font-size="14">~450 lines of code</text>

                <rect x="50" y="220" width="90" height="50" fill="#e8f5e9" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="95" y="240" text-anchor="middle" font-size="11" font-weight="bold">1 Chat Tab</text>
                <text x="95" y="257" text-anchor="middle" font-size="9">Single UI</text>

                <rect x="160" y="220" width="90" height="50" fill="#e8f5e9" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="205" y="240" text-anchor="middle" font-size="11" font-weight="bold">2 Tools</text>
                <text x="205" y="257" text-anchor="middle" font-size="9">Basic MCP</text>

                <rect x="50" y="290" width="90" height="50" fill="#e8f5e9" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="95" y="310" text-anchor="middle" font-size="11" font-weight="bold">JSON Data</text>
                <text x="95" y="327" text-anchor="middle" font-size="9">File Storage</text>

                <rect x="160" y="290" width="90" height="50" fill="#e8f5e9" stroke="#558b2f" stroke-width="2" rx="5"/>
                <text x="205" y="310" text-anchor="middle" font-size="11" font-weight="bold">Basic RAG</text>
                <text x="205" y="327" text-anchor="middle" font-size="9">PDF Search</text>

                <!-- Full Version -->
                <rect x="650" y="100" width="200" height="80" fill="#90caf9" stroke="#1976d2" stroke-width="3" rx="8"/>
                <text x="750" y="130" text-anchor="middle" font-size="18" font-weight="bold">FULL VERSION</text>
                <text x="750" y="155" text-anchor="middle" font-size="14">~900 lines of code</text>

                <rect x="570" y="220" width="90" height="50" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="615" y="240" text-anchor="middle" font-size="11" font-weight="bold">5 Tabs</text>
                <text x="615" y="257" text-anchor="middle" font-size="9">Full UI</text>

                <rect x="680" y="220" width="90" height="50" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="725" y="240" text-anchor="middle" font-size="11" font-weight="bold">10+ Tools</text>
                <text x="725" y="257" text-anchor="middle" font-size="9">Extended MCP</text>

                <rect x="790" y="220" width="90" height="50" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="835" y="240" text-anchor="middle" font-size="11" font-weight="bold">SQLite DB</text>
                <text x="835" y="257" text-anchor="middle" font-size="9">Relational</text>

                <rect x="570" y="290" width="90" height="50" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="615" y="310" text-anchor="middle" font-size="11" font-weight="bold">Classification</text>
                <text x="615" y="327" text-anchor="middle" font-size="9">4-Step Router</text>

                <rect x="680" y="290" width="90" height="50" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="725" y="310" text-anchor="middle" font-size="11" font-weight="bold">Metrics</text>
                <text x="725" y="327" text-anchor="middle" font-size="9">Dashboard</text>

                <rect x="790" y="290" width="90" height="50" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
                <text x="835" y="310" text-anchor="middle" font-size="11" font-weight="bold">Tickets</text>
                <text x="835" y="327" text-anchor="middle" font-size="9">Support System</text>

                <!-- Evolution Arrows -->
                <line x1="140" y1="245" x2="570" y2="245" stroke="#666" stroke-width="2" marker-end="url(#arrowhead8)" stroke-dasharray="8,4"/>
                <text x="355" y="240" text-anchor="middle" font-size="11" fill="#666" font-weight="bold">+4 Tabs</text>

                <line x1="250" y1="245" x2="680" y2="245" stroke="#666" stroke-width="2" marker-end="url(#arrowhead8)" stroke-dasharray="8,4"/>
                <text x="465" y="235" text-anchor="middle" font-size="11" fill="#666" font-weight="bold">+8 Tools</text>

                <line x1="140" y1="315" x2="570" y2="315" stroke="#666" stroke-width="2" marker-end="url(#arrowhead8)" stroke-dasharray="8,4"/>
                <text x="355" y="310" text-anchor="middle" font-size="11" fill="#666" font-weight="bold">+Database</text>

                <line x1="250" y1="315" x2="680" y2="315" stroke="#666" stroke-width="2" marker-end="url(#arrowhead8)" stroke-dasharray="8,4"/>
                <text x="465" y="305" text-anchor="middle" font-size="11" fill="#666" font-weight="bold">+Advanced Features</text>

                <!-- Central Evolution Label -->
                <rect x="350" y="400" width="200" height="60" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="8"/>
                <text x="450" y="425" text-anchor="middle" font-size="14" font-weight="bold">Evolution Path</text>
                <text x="450" y="445" text-anchor="middle" font-size="11">2x Code, 5x Functionality</text>

                <defs>
                    <marker id="arrowhead8" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
    </div>

    <div class="footer">
        <p><strong>OmniTech Customer Support System</strong></p>
        <p>Enterprise AI Accelerator Capstone Project</p>
        <p><a href="https://getskillsnow.com" target="_blank">&copy; 2025 Tech Skills Transformations</a></p>
    </div>

    <script>
        // Diagram navigation
        const diagrams = [
            { id: 'diagram-1', name: '1. Minimal Architecture' },
            { id: 'diagram-2', name: '2. Full Architecture' },
            { id: 'diagram-3', name: '3. RAG Workflow' },
            { id: 'diagram-4', name: '4. MCP Workflow' },
            { id: 'diagram-5', name: '5. Classification' },
            { id: 'diagram-6', name: '6. Data Flow' },
            { id: 'diagram-7', name: '7. Deployment' },
            { id: 'diagram-8', name: '8. Comparison' }
        ];

        const navButtons = document.getElementById('navButtons');

        // Generate navigation buttons
        diagrams.forEach((diagram) => {
            const button = document.createElement('button');
            button.textContent = diagram.name;
            button.onclick = () => showDiagram(diagram.id);
            button.dataset.diagramId = diagram.id;
            navButtons.appendChild(button);
        });

        function showDiagram(id) {
            document.querySelectorAll('.diagram-section').forEach(section => {
                section.classList.remove('active');
            });

            document.getElementById(id).classList.add('active');

            document.querySelectorAll('.nav-buttons button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.diagramId === id) {
                    btn.classList.add('active');
                }
            });

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Show first diagram by default
        showDiagram('diagram-1');
    </script>
</body>
</html>
